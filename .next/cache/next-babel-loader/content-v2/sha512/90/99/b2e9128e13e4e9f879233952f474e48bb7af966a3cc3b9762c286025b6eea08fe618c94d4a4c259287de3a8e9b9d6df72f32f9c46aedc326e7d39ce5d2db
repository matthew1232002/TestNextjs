{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Lazarev\\\\WebstormProjects\\\\Test task\\\\pages\\\\NewPost\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport useHttp from \"../../components/hooks/use-http\";\nimport { addQuote } from \"../../components/api/api\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\nimport PostForm from \"../../components/posts/PostForm\";\nimport Layout from \"../../components/layout/Layout\";\n\nvar NewPost = function NewPost() {\n  _s();\n\n  var _useState = useState(false),\n      isAdded = _useState[0],\n      setIsAdded = _useState[1];\n\n  var router = useRouter();\n\n  var _useHttp = useHttp(addQuote),\n      sendRequest = _useHttp.sendRequest,\n      status = _useHttp.status;\n\n  useEffect(function () {\n    if (status === 'completed') {\n      router.back();\n    }\n  }, [status, router]);\n\n  var addQuoteHandler = function addQuoteHandler(quoteData) {\n    sendRequest(quoteData);\n    setIsAdded(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(PostForm, {\n      onAddQuote: addQuoteHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(NewPost, \"THyiYmmzoKb2Yd/mnZtQNrBun60=\", false, function () {\n  return [useRouter, useHttp];\n});\n\n_c = NewPost;\nexport default NewPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewPost\");","map":{"version":3,"sources":["C:/Users/Lazarev/WebstormProjects/Test task/pages/NewPost/index.tsx"],"names":["useHttp","addQuote","useRouter","useEffect","useState","PostForm","Layout","NewPost","isAdded","setIsAdded","router","sendRequest","status","back","addQuoteHandler","quoteData"],"mappings":";;;;;;AAAA,OAAOA,OAAP,MAAoB,iCAApB;AACA,SAAQC,QAAR,QAAuB,0BAAvB;AACA,SAAQC,SAAR,QAAwB,aAAxB;AACA,SAAQC,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAA;;AAAA,kBACYH,QAAQ,CAAC,KAAD,CADpB;AAAA,MACXI,OADW;AAAA,MACFC,UADE;;AAElB,MAAMC,MAAM,GAAGR,SAAS,EAAxB;;AAFkB,iBAGYF,OAAO,CAACC,QAAD,CAHnB;AAAA,MAGXU,WAHW,YAGXA,WAHW;AAAA,MAGEC,MAHF,YAGEA,MAHF;;AAMlBT,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIS,MAAM,KAAK,WAAf,EAA4B;AACxBF,MAAAA,MAAM,CAACG,IAAP;AACH;AACJ,GAJQ,EAIN,CAACD,MAAD,EAASF,MAAT,CAJM,CAAT;;AAMA,MAAMI,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,SAAS,EAAI;AACjCJ,IAAAA,WAAW,CAACI,SAAD,CAAX;AACAN,IAAAA,UAAU,CAAC,IAAD,CAAV;AACH,GAHD;;AAKA,sBACI,QAAC,MAAD;AAAA,2BACI,QAAC,QAAD;AAAU,MAAA,UAAU,EAAEK;AAAtB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,WADJ;AAKH,CAtBD;;GAAMP,O;UAEaL,S,EACeF,O;;;KAH5BO,O;AAwBN,eAAeA,OAAf","sourcesContent":["import useHttp from \"../../components/hooks/use-http\";\r\nimport {addQuote} from \"../../components/api/api\";\r\nimport {useRouter} from \"next/router\";\r\nimport {useEffect, useState} from \"react\";\r\nimport PostForm from \"../../components/posts/PostForm\";\r\nimport Layout from \"../../components/layout/Layout\";\r\n\r\nconst NewPost = () => {\r\n    const [isAdded, setIsAdded] = useState(false)\r\n    const router = useRouter();\r\n    const {sendRequest, status} = useHttp(addQuote);\r\n\r\n\r\n    useEffect(() => {\r\n        if (status === 'completed') {\r\n            router.back();\r\n        }\r\n    }, [status, router]);\r\n\r\n    const addQuoteHandler = quoteData => {\r\n        sendRequest(quoteData);\r\n        setIsAdded(true);\r\n    };\r\n\r\n    return (\r\n        <Layout>\r\n            <PostForm onAddQuote={addQuoteHandler}/>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default NewPost;\r\n"]},"metadata":{},"sourceType":"module"}